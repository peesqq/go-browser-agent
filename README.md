# Go Browser AI Agent (Playwright + OpenAI)

**Что это**: минимально-рабочий автономный агент на Go, который управляет **видимым** браузером через Playwright и
решает задачи с помощью LLM (OpenAI). Агент работает по циклу **Plan → Act → Observe** и понимает команды-действия
в формате код-блоков:

```
```action
navigate {"url":"https://example.com"}
```
```

Доступные действия: `navigate`, `click`, `type`, `observe`, `finish`.

> Хранение сессии включено: используется директория `user_data/` (профиль Chromium).

---

## 1. Предварительные требования

- Go 1.21+
- Node.js (для установки Playwright браузеров)
- OpenAI API key

## 2. Установка зависимостей

```bash
# в корне проекта
go mod download

# установить браузеры Playwright (однократно)
npx playwright install chromium
```

## 3. Переменные окружения

```bash
export OPENAI_API_KEY=sk-...   # ваш ключ
# при желании можно сменить модель через флаг --model (по умолчанию gpt-4o-mini)
```

## 4. Сборка и запуск

```bash
go build -o agent ./cmd/agent
./agent
```

## 5. Примеры тестов задач

**A. Удаление спама (ручное подтверждение):**
В открывшемся окне войдите в свою почту (Яндекс, Gmail и т.п.), затем в терминале введите:
```
Прочитай последние 10 писем в яндекс почте и удали спам
```
Агент будет предлагать шаги и запрашивать подтверждение перед удалением. Скриншоты и HTML дампы — в `run_artifacts/`.

**B. Заказ еды (без финального подтверждения оплаты):**
```
Закажи мне BBQ-бургер в сервисе доставки еды, добавь в корзину, но не подтверждай оплату
```

**C. Поиск вакансий:**
```
Найди 3 подходящие вакансии AI-инженера на hh.ru и сформируй персонализированные сообщения, не отправляй отклики
```

## 6. Горячие клавиши

- Ввод `exit` в консоли — выход.
- Каждое действие создаёт скриншот/дамп в `run_artifacts/`.

## 7. Замечания

- Модель просим выдавать действия атомарно. Если сайт динамический — используйте `observe` для уточнения контекста.
- Для приватных/деструктивных действий агент спросит подтверждение.
- Проект — каркас: легко расширить саб-агентами (`internal/subagents/*`).
